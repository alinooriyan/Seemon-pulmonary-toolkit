
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tutorial: Lobar analysis of CT data &#8212; Pulmonary Toolkit</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet" />
  <link href="../../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/sphinx-book-theme.acff12b8f9c144ce68a297486a2fa670.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Keyboard and mouse shortcuts" href="KeyboardShortcuts.html" />
    <link rel="prev" title="External Depenencies" href="../overview/ExternalDependencies.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
      <img src="../../_static/PTKLogo.jpg" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Pulmonary Toolkit</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../intro.html">
   Pulmonary Toolkit
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Overview
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../overview/introduction.html">
   Introduction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../overview/getting-started.html">
   Getting started
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../overview/using-ptk.html">
   Ways of using the Pulmonary Toolkit (PTK)
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../overview/Installing.html">
   Installing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../overview/Tutorials.html">
   PDF tutorial guides
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../overview/Running-PTK-without-Matlab.html">
   Running PTK without Matlab
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../overview/ExternalDependencies.html">
   External Depenencies
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  GUI
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Tutorial: Lobar analysis of CT data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="KeyboardShortcuts.html">
   Keyboard and mouse shortcuts
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ImportingAndLoadingData.html">
   Importing and loading data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="How-to-perform-and-correct-lobe-Segmentations.html">
   How to perform and correct lobe Segmentations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Fixing-lobe-segmentation-failures.html">
   Fixing lobe segmentation failures
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Features
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../features/ManualSegmentations.html">
   Manual segmentations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../features/Markers.html">
   Markers
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../features/PTKViewer.html">
   PTKViewer
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Maintenance
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../maintenance/delete-or-reset.html">
   Complete reset
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../maintenance/deleting-series-and-subjects.html">
   Deleting data in PTK
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../maintenance/disk-space.html">
   Recovering disk space
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Developer documentation
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../developer/EditedResults.html">
   Edited Results for manual and semi-automated correction
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../developer/CodingStandards.html">
   Coding standards
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../developer/PTK-internal-directories-and-caches.html">
   PTK internal directories and caches
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../developer/UnitTests.html">
   Unit tests
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../developer/profiling.html">
   Profiling
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../developer/Mex-files.html">
   MEX files
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../developer/ErrorAndProgressReporting.html">
   Error and Progress Reporting
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../developer/Scripts.html">
   Scripts
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../developer/BuildingGuis.html">
   Building user interfaces using PTK classes
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  About PTK datatypes
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../datatypes/Contexts.html">
   Contexts
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../datatypes/PTKImage.html">
   PTKImage
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../datatypes/Metrics.html">
   Metrics
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../datatypes/PTKResultsTable.html">
   PTKResultsTable
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Scripting
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../scripting/Command-Line.html">
   Running the PTK GUI via Matlab from the macOS terminal
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Legacy documentation
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../developer/ReleaseNotes0_7.html">
   Release notes v0.7
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../developer/ReleaseNotes0_8.html">
   Release notes v0.8
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../developer/MigratingToGitHub.html">
   HOW TO MIGRATE YOUR PTK CODEBASE FROM GOOGLE CODE
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Additional resources
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../resources/MedicalImagingAnalysisSoftware.html">
   Medical Imaging Analysis Software
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../resources/SampleData.html">
   Sample Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../resources/Citations.html">
   How to cite PTK
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../resources/additional-topics.html">
   Additional help topics
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/content/gui/Tutorial-Lobar-analysis-of-CT-data.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#introduction">
   Introduction
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#loading-the-dataset">
   Loading the dataset
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#verifying-the-lobe-segmentation">
   Verifying the lobe segmentation
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#correcting-the-outer-lung-boundaries">
   Correcting the outer lung boundaries
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#removing-manual-corrections">
   Removing manual corrections
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#using-an-external-editor">
   Using an external editor
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#performing-lobar-analysis">
   Performing lobar analysis
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="tutorial-lobar-analysis-of-ct-data">
<h1>Tutorial: Lobar analysis of CT data<a class="headerlink" href="#tutorial-lobar-analysis-of-ct-data" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>This tutorial will describe the completed process for obtaining lobar analysis results using the Pulmonary Toolkit. Some stages (such as loading and visualisation) and covered in more detail in previous tutorials, so refer to these if you are unclear on certain concepts.</p>
</div>
<div class="section" id="loading-the-dataset">
<h2>Loading the dataset<a class="headerlink" href="#loading-the-dataset" title="Permalink to this headline">¶</a></h2>
<p>Click the Patients button to open the Patient Browser. To import a new dataset, click the + button. Then select the folder or folders containing the data to import. Importing data may take a few minutes.
Once your dataset has been imported, it will appear in the Patient Browser. The right side of the Patient Browser shows every dataset (series) you have available, grouped by patient. Use the scrollbar or the mousewheel to move through the patients. The left panel is a shortcut list which allows you to scroll straight to a particular patient.</p>
<p>Click on a dataset (image series) to load that series into the PTK. If this is the first time you have visualised this series, the PTK will automatically perform some initial operations such as detecting the lung region of interest. This may take a few minutes.</p>
<p>#Segmenting the lobes #
On the right of the main PTK screen there are a number of ‘tabs’ (File, Segment, View, etc.). Click Segment to select the Segmentation panel.</p>
<p>Then click Lobes to perform lobe segmentation. This may take 5–10 minutes if this is the first time you have run lobe segmentation for this dataset.</p>
</div>
<div class="section" id="verifying-the-lobe-segmentation">
<h2>Verifying the lobe segmentation<a class="headerlink" href="#verifying-the-lobe-segmentation" title="Permalink to this headline">¶</a></h2>
<p>After the lobe segmentation completes, the segmentation will appear as a colour overlay on the main lung image.
Verifying the lobe segmentation
It is important you always verify the automated lobe segmentation for every dataset you analyse. You may need to correct the lobar boundaries, depending on the level of accuracy you require.
You only need to perform verification and correction once for each dataset; the PTK will remember your corrections for future use.
After the lobe segmentation completes, the segmentation will appear as a colour overlay on the main lung image, as shown above. Verify the lobar boundaries are correct by scrolling through the image slices (use the mouse wheel or scrollbar at the side of the image). You can switch orientation, zoom and pan as required. If you don’t know how to do this, go back to the earlier tutorials and familiarise yourself with navigating the image in the PTK. You may also wish to adjust the overlay opacity (the opacity is set by the slider to the right of Opacity – slide it to the right to make the segmentation overlay more opaque).
If you don’t see the colour overlay, make sure you have the ‘Overlay’ checkbox selected (underneath the image window), and make sure the overlay opacity is set high enough to be visible.</p>
</div>
<div class="section" id="correcting-the-outer-lung-boundaries">
<h2>Correcting the outer lung boundaries<a class="headerlink" href="#correcting-the-outer-lung-boundaries" title="Permalink to this headline">¶</a></h2>
<p>Normally, you won’t need to correct the outer boundaries of the lung segmentation, so you can skip straight on to correcting the boundaries between the lobes in the next section.
However, if you do need to correct the outer boundaries of the lungs, the procedure is similar to the lobar boundary correction described below. Click Left and Right Lungs to load the lung segmentation, then choose the Correct tab (as described below) and follow the instructions below, except now you are clicking to modify the outer boundaries of the lung.
You should make any corrections to the lung boundaries before making corrections to the lobar boundaries.</p>
<p>##Correcting the lobar boundaries ##</p>
<p>After you run the lobe segmentation by selecting Lobes above, a new Correct tab appears. If you need to correct the boundaries between lobes, select this Correct tab and the PTK will enter manual correction mode.</p>
<p>When you enter manual correct mode, a new “Edit” tool is selected. Use This appears as a hand icon. Use the edit tool to make small adjustments to the fissure boundaries between the lobes. To do this, click the finger of the hand on the fissure point where you want the boundary to be. The boundary will be shifted towards that point (in 3D). Note, this may take a second or two.
Click the finger on the new boundary point
The boundary shifts to this point in 3D
You may need to click a number of times on different slices to get the boundary where you want it to be. The PTK tries to ensure the boundary is smooth and continuous in 3D; this means it will not always do precisely what you want, but it will ensure the boundary is more realistic. If you are trying to make a boundary connect to the edge of the lung, try clicking just off the edge of the image, near where you want the boundary to touch the edge of the lungs.
You can press U (for undo) one or more times to undo the last few edits.
While in Edit mode you can still switch image orientation, cine through the slices using the mouse wheel or the scrollbar, pan using SHIFT+drag, and zoom using CTRL+drag. You can switch to a different tool (eg W/L, Cine etc.) but this will switch away from the Edit tool, and you will have to switch back to the Edit tool in order to continue correcting the boundaries. To switch back to the edit tool, click the Edit button below the image.
When you have finished your editing, click the Save button in the Correct tab. The corrections will be saved internally (you don’t need to enter a filename) and your corrected lobar boundaries will be used for all future anlaysis. If you don’t click Save, you will be asked whether you want to save when you leave correction mode.</p>
</div>
<div class="section" id="removing-manual-corrections">
<h2>Removing manual corrections<a class="headerlink" href="#removing-manual-corrections" title="Permalink to this headline">¶</a></h2>
<p>When in correction mode, the Delete all editing button will erase all of your edits for the lobe segmentation for this dataset, and revert back to the automatically generated segmentation.</p>
</div>
<div class="section" id="using-an-external-editor">
<h2>Using an external editor<a class="headerlink" href="#using-an-external-editor" title="Permalink to this headline">¶</a></h2>
<p>As an alternative to using the PTK’s correct tools, you can edit the segmentations using an external editor. You can use the Export edit button to save the lobe segmentation in a suitable format (such as raw/mhd), load up the edit in a 3D editor, make the appropriate corrections, and then import the edited image back into PTK using the Import Edit button.
See the appendix for a step-by-step example of how to do this using ITK-Snap.
If you use the Import Edit facility, be very careful not to accidentally load in the wrong segmentation from a different dataset. Always verify any segmentation you import looks OK after importing.
Be aware that unlike the PTK, many external editing tools are 2D and will not guarantee connectivity and smoothness of the lobar boundaries between adjacent slices. As a result, if you manually draw lobar boundaries in one orientation (e.g. on axial slices), they may look odd when viewed in a different orientation (e.g. coronal slices). The PTK’s internal correction tools operate in 3D and do not suffer from this problem</p>
</div>
<div class="section" id="performing-lobar-analysis">
<h2>Performing lobar analysis<a class="headerlink" href="#performing-lobar-analysis" title="Permalink to this headline">¶</a></h2>
<p>Once you have verified and corrected the lobar boundaries, you can run automated lobar analysis to generate lobar measurements such as emphysema percentage and mean tissue density.
Click the Analyse tab
Click Density Metrics to run CT density-based analysis across the lungs and lobes</p>
<p>When the analysis completes, the results will be written to a csv file (a comma-separated text file which can be opened in Excel or any text editor. This is saved to a Density Metrics folder which is a subfolder of the Output folder for this dataset. The folder will open automatically on PC and Mac.</p>
<p>For Linux systems, you may have to open the output folder yourself. In this case the Open the results folder button will print the full folder path.</p>
<p>##Axial, Coronal and Sagittal analysis ##
Analysis can also be performed by slicing the lung into thick slabs in any one of the three orientations (coronal, sagittal, axial) and performing mean measurements over each slab.
Example of lung divided into thick axial slices.
To perform this kind of slice analysis, choose the Axial, Coronal or Sagittal metrics button in the analyse tab. The analysis will be performed and written out to the output folder.
For slice-based analysis, measurements are performed in each slice. An additional measurement is written out, which identifies each slice (the distance of the slice along the axis).
A separate file is produced for each lung region (the whole of the lung, the individual left and right lungs, and each of the lobes). For example, one file will show the analysis from dividing the left lung into slices, and another the right lung. If you are only interested in the whole lung divided into slices then you can ignore the other regions. The locations of the slices are the same for all files.</p>
<p>##Appendix: Editing a lung or lobe segmentation with an external editor (ITK-Snap) ##
This appendix describes how to perform manual editing of the lung or lobar boundaries using an external editor - in this case ITK-Snap.
Be aware that editing a 3D segmentation in a 2D editor may not produce good results. The PTK’s correction tools are 3-dimensional so that any changes are smoothed across adjacent slices. In general using the PTK’s tools will produce better results than trying to manually edit each slice in an external editor. However, sometimes you may need to use an external editor to deal with problematic datasets.
To work with ITK-Snap you will need to save out two files:
You may need to save out the scanner image file into a format that ITK can read, for example a 16-bit metaheader and raw file (mhd/raw). To do this from PTK, select the File tab, the Save Image button and choose 16-bit mhd/raw.
Save out the current segmentation (the lungs or the lobes depending on what you want to correct). For example, for the lobes, first choose Lobes from the Segment tab, then Export Edit from the Correct tab. For the segmentation, you can choose an 8-bit metaheader and raw file
Assuming you have installed ITK-Snap, now start it up. From the File menu, Open Greyscale Image and choose your saved image file. You may need to play with the image contrast (Tools / Image Contrast) to make the image clear. From the Segmentation menu, Load From Image and select your saved segmentation file. You should now see your image and the segmented lobes transparent overlay on top.
Now If you wish, make your preferred view full-screen (click the + button next to the right of your preferred view). Select the Paintbrush tool (shortcut: key 5)
Change the Shape to Round, and change the Size to your desired size. You can modify the size using the + and - shortcut keys.
Choose the Active drawing label to set the segmentation colour, which defines the lobe, or none to set the background. The colours you need to set for PTK are 1: upper right lobe; 2: middle right lobe; 4: lower right lobe; 5: lower left lobe; 6: upper left lobe.
If you are modifying a lung segmentation, 1 is the right lung and 2 is the left lung.
Use the Paintbrush or other tools to modify the segmentation, remembering you can move between slices using the mouse scroll wheel or page up/page down.
Once you have made your changes, Save As Image from the Segmentation menu, and choose an 8-bit metaheader file.
Load your new segmentation into PTK using the Import Edit from the Correct tab.</p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./content/gui"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
        <div class='prev-next-bottom'>
            
    <a class='left-prev' id="prev-link" href="../overview/ExternalDependencies.html" title="previous page">External Depenencies</a>
    <a class='right-next' id="next-link" href="KeyboardShortcuts.html" title="next page">Keyboard and mouse shortcuts</a>

        </div>
        
        </div>
    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Tom Doel<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>